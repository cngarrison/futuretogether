@import "tailwindcss";
@plugin "@tailwindcss/typography";

/**
 * Future Together — Design System
 * Brand colour tokens and base styles.
 *
 * @theme registers tokens with Tailwind v4 (generates bg-*, text-*, etc.)
 * @layer utilities provides explicit fallbacks using color-mix() for opacity
 * variants that require CSS custom property support.
 */

@theme {
  --color-primary: #1a5f6e;
  --color-accent: #c4853a;
  --color-warm-white: #f7f4ef;
  --color-near-black: #1c1a18;
  --font-sans: "Plus Jakarta Sans", ui-sans-serif, system-ui, sans-serif;
}

/* Explicit utility overrides — guaranteed to render regardless of @theme status */
@layer utilities {
  /* Base brand utilities */
  .bg-primary {
    background-color: #1a5f6e;
  }
  .text-primary {
    color: #1a5f6e;
  }
  .border-primary {
    border-color: #1a5f6e;
  }

  .bg-accent {
    background-color: #c4853a;
  }
  .text-accent {
    color: #c4853a;
  }
  .border-accent {
    border-color: #c4853a;
  }

  .bg-warm-white {
    background-color: #f7f4ef;
  }
  .text-warm-white {
    color: #f7f4ef;
  }

  .bg-near-black {
    background-color: #1c1a18;
  }
  .text-near-black {
    color: #1c1a18;
  }

  /* Opacity variants via color-mix() (modern browsers) */
  .bg-primary\/10 {
    background-color: color-mix(in srgb, #1a5f6e 10%, transparent);
  }
  .bg-primary\/20 {
    background-color: color-mix(in srgb, #1a5f6e 20%, transparent);
  }
  .border-primary\/10 {
    border-color: color-mix(in srgb, #1a5f6e 10%, transparent);
  }
  .border-primary\/20 {
    border-color: color-mix(in srgb, #1a5f6e 20%, transparent);
  }

  .bg-accent\/10 {
    background-color: color-mix(in srgb, #c4853a 10%, transparent);
  }
  .bg-accent\/20 {
    background-color: color-mix(in srgb, #c4853a 20%, transparent);
  }
  .border-accent\/10 {
    border-color: color-mix(in srgb, #c4853a 10%, transparent);
  }
  .border-accent\/20 {
    border-color: color-mix(in srgb, #c4853a 20%, transparent);
  }

  .text-near-black\/65 {
    color: color-mix(in srgb, #1c1a18 65%, transparent);
  }
  .text-near-black\/70 {
    color: color-mix(in srgb, #1c1a18 70%, transparent);
  }
  .text-near-black\/75 {
    color: color-mix(in srgb, #1c1a18 75%, transparent);
  }
  .text-near-black\/80 {
    color: color-mix(in srgb, #1c1a18 80%, transparent);
  }

  /* Hover variants */
  .hover\:bg-accent:hover {
    background-color: #c4853a;
  }
  .hover\:text-accent:hover {
    color: #c4853a;
  }
  .hover\:bg-accent\/85:hover {
    background-color: color-mix(in srgb, #c4853a 85%, transparent);
  }
  .hover\:bg-primary\/15:hover {
    background-color: color-mix(in srgb, #1a5f6e 15%, transparent);
  }
}

/* Base styles */
body {
  background-color: #f7f4ef;
  color: #1c1a18;
  font-family: "Plus Jakarta Sans", ui-sans-serif, system-ui, sans-serif;
}

/* =============================================================================
   Blog: Callout boxes
   Usage in markdown: <div class="callout info">...</div>
   Transforms to .callout-info via blog.ts transformCallouts()
   ============================================================================= */

.callout {
  padding: 1rem 1.25rem;
  border-radius: 0.5rem;
  margin: 1.5rem 0;
  border-left: 4px solid currentColor;
  font-size: 0.95rem;
  line-height: 1.6;
}

.callout-info {
  background-color: #eef5f7;
  border-color: #1a5f6e;
  color: #1a5f6e;
}

.callout-warning {
  background-color: #fef9e7;
  border-color: #c4853a;
  color: #92540a;
}

.callout-tip {
  background-color: #f0fdf4;
  border-color: #16a34a;
  color: #15803d;
}

.callout-success {
  background-color: #f0fdf4;
  border-color: #16a34a;
  color: #15803d;
}

/* =============================================================================
   Blog: Floating image figures (images with title= attribute in markdown)
   ============================================================================= */

.blog-image-float {
  float: right;
  margin: 0 0 1.5rem 2rem;
  max-width: 42%;
  clear: right;
}

.blog-image-float img {
  border-radius: 0.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  width: 100%;
  height: auto;
}

.blog-image-float figcaption {
  font-size: 0.78rem;
  color: rgba(28, 26, 24, 0.55);
  text-align: center;
  margin-top: 0.5rem;
  font-style: italic;
  line-height: 1.4;
}

@media (max-width: 640px) {
  .blog-image-float {
    float: none;
    max-width: 100%;
    margin: 1.5rem 0;
  }
}
